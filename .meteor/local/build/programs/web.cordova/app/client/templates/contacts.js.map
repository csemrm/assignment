{"version":3,"sources":["meteor://ðŸ’»app/client/templates/contacts.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/templates/contacts.js","sourcesContent":["Session.set('sortKey', 'name.first');\n\n\nTemplate.contacts.created = function () {\n    this.autorun(function () {\n        this.subscription = Meteor.subscribe('contacts');\n    }.bind(this));\n};\n\nTemplate.contacts.rendered = function () {\n    this.autorun(function () {\n        if (!this.subscription.ready()) {\n            IonLoading.show();\n        } else {\n            IonLoading.hide();\n        }\n    }.bind(this));\n};\nTemplate.contacts.events({\n    'keyup input': function (event, template) {\n        Session.set('searchQuery', event.target.value);\n    },\n});\nTemplate.contacts.helpers({\n    contacts: function () {\n        var sortKey = Session.get('sortKey');\n\n\n        var sortKeyOrder = Session.get('sortKeyOrder') || '1';\n        console.log('sortKey  ' + sortKey + ' sortKeyOrder  ' + sortKeyOrder);\n        var obj = {};\n        if (Session.get('searchQuery')) {\n\n            obj = {'name.first': {$regex: Session.get('searchQuery'), $options: 'i'}, };\n\n        }\n        if (sortKey == 'name.first') {\n            return Contacts.find(obj, {sort: {'name.first': sortKeyOrder}});\n        } else if (sortKey == 'name.last') {\n            return Contacts.find(obj, {sort: {'name.last': sortKeyOrder}});\n        } else {\n            return Contacts.find(obj);\n        }\n    },\n    searchQuery: function () {\n        return Session.get('searchQuery');\n    }\n});"]}